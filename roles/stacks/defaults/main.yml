---
# List of stack names to deploy on this host
# Override in host_vars: stacks: [homeassistant, zigbee2mqtt]
stacks: []

# Where stack compose files live in the repo
stacks_src_root: "{{ playbook_dir }}/stacks"

# Where stacks are deployed on target hosts
stacks_dest_root: "/opt/stacks"

# Where to look for .env files (secrets)
stacks_env_dir: "/etc/homelab/secrets"

# Compose file name candidates (searched in order)
stacks_compose_candidates:
  - "compose.yml"
  - "docker-compose.yml"

# If true: fail if env file missing for a stack
stacks_require_env: false

# If true: always pull images before deploying
stacks_pull_images: true

# Remove containers for services not defined in compose file
stacks_remove_orphans: true

# Optional per-stack overrides:
# stacks_config:
#   homeassistant:
#     env_file: "/etc/homelab/secrets/homeassistant.env"
#     project_name: "ha"
stacks_config: {}

